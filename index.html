<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAMG ARENA | نظام القوس</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Cairo:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --neon: #00f2ff; --pink: #ff00ff; --bg: #020205; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            background: var(--bg); color: white; font-family: 'Cairo', sans-serif;
            height: 100vh; display: flex; flex-direction: column; overflow: hidden;
            background-image: radial-gradient(circle, #1a1a2e 0%, #000 100%);
        }

        /* HUD المستوحى من صورتك */
        .hud { width: 100%; padding: 30px; display: flex; justify-content: space-around; z-index: 100; }
        .stat-box { 
            background: rgba(0,0,0,0.6); border: 2px solid var(--neon); 
            padding: 10px 25px; border-radius: 15px; min-width: 110px; 
            text-align: center; font-family: 'Orbitron';
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.2);
        }
        .stat-label { font-size: 12px; color: var(--neon); text-transform: uppercase; margin-bottom: 5px; }

        .arena { flex-grow: 1; position: relative; width: 100%; display: flex; align-items: flex-end; justify-content: center; padding-bottom: 15vh; gap: 60px; }

        /* الأقراص بأحجام مصغرة دقيقة */
        .disk {
            width: 85px; height: 85px; border-radius: 50%;
            background: #111; border: 3px solid var(--neon);
            position: relative; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.3);
            font-size: 14px; font-weight: bold; font-family: 'Orbitron';
            z-index: 10;
        }

        /* حركة القوس السينمائية */
        .arc-attack { animation: arc-move 0.8s cubic-bezier(0.45, 0.05, 0.55, 0.95) forwards; }

        @keyframes arc-move {
            0% { transform: translate(0, 0) scale(1); }
            40% { transform: translate(-40px, -180px) scale(1.4); } /* قمة القوس */
            100% { transform: translate(-145px, 0) scale(1); } /* لحظة الارتطام بالخصم */
        }

        /* حركة دوران وانقلاب الخصم */
        .enemy-spin { animation: spin-logic 0.7s ease-out forwards; }
        @keyframes spin-logic {
            0% { transform: rotateX(0) rotateZ(0); }
            50% { transform: rotateX(180deg) rotateZ(180deg) translateY(-30px); }
            100% { transform: rotateX(180deg) rotateZ(360deg) translateY(0); }
        }

        .disk.flipped { border-color: var(--pink); box-shadow: 0 0 20px var(--pink); }
        .label { position: absolute; bottom: -30px; font-size: 11px; color: var(--neon); letter-spacing: 1px; }

        /* تأثير الارتجاج */
        .shake { animation: impact-shake 0.2s; }
        @keyframes impact-shake {
            0%, 100% { transform: translate(0,0); }
            50% { transform: translate(-5px, -5px); }
        }
    </style>
</head>
<body id="main-body">

    <div class="hud">
        <div class="stat-box">
            <div class="stat-label">WINS</div>
            <div id="wins-val">9</div>
        </div>
        <div class="stat-box">
            <div class="stat-label">ROUND</div>
            <div id="round-val">1/3</div>
        </div>
    </div>

    <div class="arena">
        <div class="disk" id="enemy-disk" style="border-color: var(--pink);">
            ENEMY
            <div class="label" style="color: var(--pink);">OPPONENT</div>
        </div>

        <div class="disk" id="player-disk" onclick="app.launch()">
            MAMG
            <div class="label">PLAYER</div>
        </div>
    </div>

    <script>
        const app = {
            wins: 9,
            isLocked: false,

            launch: function() {
                if (this.isLocked) return;
                this.isLocked = true;

                const pDisk = document.getElementById('player-disk');
                const eDisk = document.getElementById('enemy-disk');
                const body = document.getElementById('main-body');

                // 1. إطلاق حركة القوس
                pDisk.classList.add('arc-attack');

                // 2. توقيت الارتطام (عند نهاية القوس)
                setTimeout(() => {
                    body.classList.add('shake');
                    
                    // فرصة الانقلاب مع الدوران
                    if (Math.random() > 0.3) {
                        eDisk.classList.remove('enemy-spin');
                        void eDisk.offsetWidth; 
                        eDisk.classList.add('enemy-spin');
                        
                        setTimeout(() => {
                            eDisk.classList.add('flipped');
                            this.wins++;
                            document.getElementById('wins-val').innerText = this.wins;
                        }, 350);
                    }

                    setTimeout(() => body.classList.remove('shake'), 200);
                }, 750); // يتزامن مع نهاية الأنميشن

                // 3. العودة للمكان الأصلي
                setTimeout(() => {
                    pDisk.classList.remove('arc-attack');
                    this.isLocked = false;
                }, 1500);
            }
        };
    </script>
</body>
</html>
